%%% We typically use \NewDocumentCommand instead of \newcommand(*) in
%%% order to obtain robust commands, which is usual in modern LaTeX.
%%% In many cases below, it would be okay to use \newcommand, e.g., as
%%% the underlying commands are robust but we mostly stick to
%%% \NewDocumentCommand for consistency. See
%%% https://latex3.github.io/help/documentation/usrguide.pdf for
%%% background.
%%%
%%% We put the first argument (the command to be defined) of
%%% \NewDocumentCommand in braces to make texlab recognize the
%%% definition, see https://github.com/latex-lsp/texlab/issues/1409 .

%%% Math hyphen (for the hyphens in EUF-CMA and the like)
\mathchardef\mhyphen="2D

%%% Shortcuts for styles
\NewDocumentCommand{\algo}{}{\pcalgostyle}
\NewDocumentCommand{\var}{}{\pcvarstyle}
\NewDocumentCommand{\oracle}{}{\pcoraclestyle}
\NewDocumentCommand{\game}{}{\pcgameprocedurestyle}

%%% Games
% \gametitle{\game{Coll}}{\algo{H}} produces "Coll_H^ùíú(Œª)".
%   The optional arguments change superscript and the arguments
%   and \gametitle* is a shortcut for omitting the arguments.
\NewDocumentCommand{\gametitle}{s m m O{\adv} O{\gameprocedurearg}}{\ensuremath{{#2}_{#3}^{#4}{\IfBooleanF{#1}{#5}}}}
% For prefixing the main game in a figure with the text "Game ".
\NewDocumentCommand{\gameprefix}{}{\ensuremath{\textnormal{Game~}}}

%%% Algorithms and named schemes
%%%
%%% Uncomment these manually as needed.
% \NewDocumentCommand{\grgen}{}{\algo{GrGen}}
% \NewDocumentCommand{\gparam}{}{(\GG,p,g)}

% \NewDocumentCommand{\inpgen}{}{\algo{InpGen}}
% \NewDocumentCommand{\param}{}{\var{par}}  % public parameters

% \NewDocumentCommand{\setup}{}{\algo{Setup}}
% \NewDocumentCommand{\keygen}{}{\algo{KeyGen}}
% \NewDocumentCommand{\sign}{}{\algo{Sign}}
% \NewDocumentCommand{\verify}{}{\algo{Verify}}

% \NewDocumentCommand{\musigtwo}{}{\algo{MuSig2}}
% \NewDocumentCommand{\musigtwoias}{}{\algo{MuSig2\mhyphen{}IAS}}

%% Game Oracles
% \NewDocumentCommand{\dlo}{}{\oracle{DL}}

%% Random oracles
% \NewDocumentCommand{\hash}{}{\algo{H}}
% \NewDocumentCommand{\Hsig}{}{\algo{H}_{\mathrm{sig}}}

%%% For easier typing
\NewDocumentCommand{\eg}{}{e.g\xperiod}
\NewDocumentCommand{\ie}{}{i.e\xperiod}
\NewDocumentCommand{\ppt}{}{p.p.t\xperiod}
% Caution: \wlog is a TeX builtin that writes to the log.
\NewDocumentCommand{\wlg}{}{w.l.o.g\xperiod}

%%% Math shortcuts
\NewDocumentCommand{\eps}{}{\varepsilon}
\NewDocumentCommand{\Zp}{}{\ZZ_p}

%%% Dingbats for checkmark and cross, e.g., for feature columns in tables
\NewDocumentCommand{\cmark}{}{\ding{51}}
\NewDocumentCommand{\xmark}{}{\ding{55}}

%%% Bitcoin symbol
% https://tex.stackexchange.com/a/112165, slightly improved
\NewDocumentCommand{\btcsym}{}{%
  \leavevmode
  \vtop{\offinterlineskip\upshape%\bfseries
    \setbox0=\hbox{B}%
    \setbox2=\hbox to\wd0{\hfil\hskip-.03em
    \vrule height .3ex width .15ex\hskip .08em
    \vrule height .3ex width .15ex\hfil}
    \vbox{\copy2\vskip-.01ex\box0}\vskip-.01ex\box2}}
